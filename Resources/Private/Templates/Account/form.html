<f:section name="content">
	<f:if condition="{contact}">
		<f:link.action action="refresh" controller="Start" >Refresh</f:link.action>
		<f:link.action action="logout" controller="Start" >Logout</f:link.action>
		<h3>Welcome to our Support Center</h3>
		<h4> {contact.salutation.value} {contact.first_name.value} {contact.last_name.value}:</h4>
		<f:form method="post" controller="Account" action="save" name="contactForm">
			<f:for each="{contact}" as="record">
				<dl>
					<f:if condition="{record.style.hidden}">
						<f:then>
							<dd>
								<f:form.hidden name="{record.field.name}" value="{record.value}" />
							</dd>
						</f:then>
						<f:else>
							<dt>
								<label for="textboxLabel">{record.field.label}</label>
        					</dt>
							<f:if condition="{record.edit}"> <!--only editable and visible fields are shown via form-elements-->	
								<f:then>
									<dd>
										<f:if condition="{record.field.type.varchar}"> <!--is condition varchar: textbox-->
											<f:then>
												<f:form.textbox name="{record.field.name}:{record.field.type.varchar}" />
												{record.value}
												<b style="color:red;">{record.error}</b>
											</f:then>
											<f:else>
												<f:if condition="{record.field.type.enum}"> <!--is condition enum: select-->
													<f:then>
														<f:form.select name="{record.field.name}:{record.field.type.enum}" options="{record.field.options}"/>
														{record.value}
														<b style="color:red;">{record.error}</b>
													</f:then>
													<f:else>
														<f:if condition="{record.field.type.phone}"> <!--is condition phone: textbox-->
															<f:then>
																<f:form.textbox name="{record.field.name}:{record.field.type.phone}" />
																{record.value}
																<b style="color:red;">{record.error}</b>
															</f:then>
															<f:else>
																<f:if condition="{record.field.type.encrypt}"> <!--is condition encrypt: password-->
																		<f:then>
																		<f:form.password name="{record.field.name}:{record.field.type.encrypt}" />
																		{record.value}
																		<b style="color:red;">{record.error}</b>
																		</f:then>
																</f:if>
															</f:else>
														</f:if>
													</f:else>
												</f:if>
											</f:else>
										</f:if>
							
									</dd>
								</f:then>
								<f:else> <!--these fields are not editable but definitely viewable and visible in this case-->	
									<dd>{record.value}</dd>
								</f:else>
							</f:if>
						</f:else>
					</f:if>
				</dl>
			</f:for>
			<f:form.submit value="Submit"/><br />
		</f:form>
	</f:if>
</f:section> 